import{t as v,P as d,a8 as b,a9 as _,aa as p,L as o,e as g,ab as m}from"./Bub3oN-q.js";import{s as h}from"./Bm5Rea23.js";function l(e,r,i=!1){if(e.multiple){if(r==null)return;if(!d(r))return b();for(var a of e.options)a.selected=r.includes(s(a));return}for(a of e.options){var n=s(a);if(_(n,r)){a.selected=!0;return}}(!i||r!==void 0)&&(e.selectedIndex=-1)}function y(e){var r=new MutationObserver(()=>{l(e,e.__value)});r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),v(()=>{r.disconnect()})}function w(e,r,i=r){var a=new WeakSet,n=!0;p(e,"change",t=>{var f=t?"[selected]":":checked",u;if(e.multiple)u=[].map.call(e.querySelectorAll(f),s);else{var c=e.querySelector(f)??e.querySelector("option:not([disabled])");u=c&&s(c)}i(u),o!==null&&a.add(o)}),g(()=>{var t=r();if(e===document.activeElement){var f=m??o;if(a.has(f))return}if(l(e,t,n),n&&t===void 0){var u=e.querySelector(":checked");u!==null&&(t=s(u),i(t))}e.__value=t,n=!1}),y(e)}function s(e){return"__value"in e?e.__value:e.value}const S=()=>{const e=h;return{page:{subscribe:e.page.subscribe},navigating:{subscribe:e.navigating.subscribe},updated:e.updated}},x={subscribe(e){return S().page.subscribe(e)}},L={};export{w as b,L as f,y as i,x as p,l as s};
