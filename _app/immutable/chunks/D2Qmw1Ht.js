import{x,h as C,y as K,z as D,A as P,B as Q,g as L,C as W,D as Z,H as $,E as V,F as H,G as S,I as j,J as ee,K as Y,L as re,M as k,N as fe,O as F,P as ne,Q as B,m as le,R as ae,T as ie,U as se,V as I,W as X,X as q,Y as O,Z as ue,_ as te,$ as oe}from"./Bub3oN-q.js";import{a as ve}from"./IihZ9c6f.js";function _e(e,l){return l}function de(e,l,a){for(var v=[],d=l.length,i,s=l.length,f=0;f<d;f++){let u=l[f];q(u,()=>{if(i){if(i.pending.delete(u),i.done.add(u),i.pending.size===0){var c=e.outrogroups;z(F(i.done)),c.delete(i),c.size===0&&(e.outrogroups=null)}}else s-=1},!1)}if(s===0){var t=v.length===0&&a!==null;if(t){var n=a,o=n.parentNode;te(o),o.append(n),e.items.clear()}z(l,!t)}else i={pending:new Set(l),done:new Set},(e.outrogroups??=new Set).add(i)}function z(e,l=!0){for(var a=0;a<e.length;a++)oe(e[a],l)}var U;function Ee(e,l,a,v,d,i=null){var s=e,f=new Map;{var t=e;s=C?x(K(t)):t.appendChild(D())}C&&P();var n=null,o=W(()=>{var p=a();return ne(p)?p:p==null?[]:F(p)}),u,c=!0;function w(){_.fallback=n,ce(_,u,s,l,v),n!==null&&(u.length===0?(n.f&I)===0?X(n):(n.f^=I,R(n,null,s)):q(n,()=>{n=null}))}var r=Q(()=>{u=L(o);var p=u.length;let T=!1;if(C){var h=Z(s)===$;h!==(p===0)&&(s=V(),x(s),H(!1),T=!0)}for(var b=new Set,m=re,N=fe(),A=0;A<p;A+=1){C&&S.nodeType===j&&S.data===ee&&(s=S,T=!0,H(!1));var M=u[A],g=v(M,A),E=c?null:f.get(g);E?(E.v&&Y(E.v,M),E.i&&Y(E.i,A),N&&m.skipped_effects.delete(E.e)):(E=pe(f,c?s:U??=D(),M,g,A,d,l,a),c||(E.e.f|=I),f.set(g,E)),b.add(g)}if(p===0&&i&&!n&&(c?n=k(()=>i(s)):(n=k(()=>i(U??=D())),n.f|=I)),C&&p>0&&x(V()),!c)if(N){for(const[G,J]of f)b.has(G)||m.skipped_effects.add(J.e);m.oncommit(w),m.ondiscard(()=>{})}else w();T&&H(!0),L(o)}),_={effect:r,items:f,outrogroups:null,fallback:n};c=!1,C&&(s=S)}function ce(e,l,a,v,d){var i=l.length,s=e.items,f=e.effect.first,t,n=null,o=[],u=[],c,w,r,_;for(_=0;_<i;_+=1){if(c=l[_],w=d(c,_),r=s.get(w).e,e.outrogroups!==null)for(const g of e.outrogroups)g.pending.delete(r),g.done.delete(r);if((r.f&I)!==0)if(r.f^=I,r===f)R(r,null,a);else{var p=n?n.next:f;r===e.effect.last&&(e.effect.last=r.prev),r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev),y(e,n,r),y(e,r,p),R(r,p,a),n=r,o=[],u=[],f=n.next;continue}if((r.f&O)!==0&&X(r),r!==f){if(t!==void 0&&t.has(r)){if(o.length<u.length){var T=u[0],h;n=T.prev;var b=o[0],m=o[o.length-1];for(h=0;h<o.length;h+=1)R(o[h],T,a);for(h=0;h<u.length;h+=1)t.delete(u[h]);y(e,b.prev,m.next),y(e,n,b),y(e,m,T),f=T,n=m,_-=1,o=[],u=[]}else t.delete(r),R(r,f,a),y(e,r.prev,r.next),y(e,r,n===null?e.effect.first:n.next),y(e,n,r),n=r;continue}for(o=[],u=[];f!==null&&f!==r;)(t??=new Set).add(f),u.push(f),f=f.next;if(f===null)continue}(r.f&I)===0&&o.push(r),n=r,f=r.next}if(e.outrogroups!==null){for(const g of e.outrogroups)g.pending.size===0&&(z(F(g.done)),e.outrogroups?.delete(g));e.outrogroups.size===0&&(e.outrogroups=null)}if(f!==null||t!==void 0){var N=[];if(t!==void 0)for(r of t)(r.f&O)===0&&N.push(r);for(;f!==null;)(f.f&O)===0&&f!==e.fallback&&N.push(f),f=f.next;var A=N.length;if(A>0){var M=i===0?a:null;de(e,N,M)}}}function pe(e,l,a,v,d,i,s,f){var t=(s&ie)!==0?(s&se)===0?le(a,!1,!1):B(a):null,n=(s&ae)!==0?B(d):null;return{v:t,i:n,e:k(()=>(i(l,t??a,n??d,f),()=>{e.delete(v)}))}}function R(e,l,a){if(e.nodes)for(var v=e.nodes.start,d=e.nodes.end,i=l&&(l.f&I)===0?l.nodes.start:a;v!==null;){var s=ue(v);if(i.before(v),v===d)return;v=s}}function y(e,l,a){l===null?e.effect.first=a:l.next=a,a===null?e.effect.last=l:a.prev=l}function Te(e,l,a,v){var d=e.__style;if(C||d!==l){var i=ve(l);(!C||i!==e.getAttribute("style"))&&(i==null?e.removeAttribute("style"):e.style.cssText=i),e.__style=l}return v}export{Ee as e,_e as i,Te as s};
